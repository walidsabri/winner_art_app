{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";// Import withRouter higher-order component\nimport'./regist.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Regist=()=>{// Destructure history from props\nconst navigate=useNavigate();// Use navigate hook to redirect to another page\nconst[nom,setNom]=useState('');const[prenom,setPrenom]=useState('');const[typeAtelier,setTypeAtelier]=useState('');// Default value\nconst[email,setEmail]=useState('');const[tel,setTel]=useState('');// Function to handle form submission\nconst handleSubmit=async event=>{event.preventDefault();try{const formData=new FormData();formData.append('nom',nom);formData.append('prenom',prenom);formData.append('type_atelier',typeAtelier);formData.append('email',email);formData.append('tel',tel);const response=await fetch('http://localhost/winner1/insert_registration.php',{method:'POST',body:formData});if(!response.ok){throw new Error('Network response was not ok');}const data=await response.text();console.log(data);// Log the response from the PHP script\n// Display success message\nnavigate(\"/welcome\");// Redirect to the welcome page\n}catch(error){// Handle errors\nconsole.error('Error:',error);alert('Registration failed');// Display error message\n}};return/*#__PURE__*/_jsxs(\"div\",{className:\"registrationForm\",children:[/*#__PURE__*/_jsx(\"img\",{src:require('../photos/winnercoloresvg.svg').default,alt:\"Description de l'image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"formulairee\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nom\",placeholder:\"Nom :\",required:true,value:nom,onChange:e=>setNom(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"prenom\",placeholder:\"Prenom :\",required:true,value:prenom,onChange:e=>setPrenom(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{name:\"typeAtelier\",required:true,value:typeAtelier,onChange:e=>setTypeAtelier(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",selected:true,disabled:true,hidden:true,children:\"Type atelier :\"}),/*#__PURE__*/_jsx(\"option\",{value:\"drawing\",children:\"Dessin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"violin\",children:\"Violon\"}),/*#__PURE__*/_jsx(\"option\",{value:\"guitar\",children:\"Guitare\"}),/*#__PURE__*/_jsx(\"option\",{value:\"theater\",children:\"Th\\xE9\\xE2tre\"}),/*#__PURE__*/_jsx(\"option\",{value:\"crochet\",children:\"Crochet\"}),/*#__PURE__*/_jsx(\"option\",{value:\"piano\",children:\"Piano\"}),/*#__PURE__*/_jsx(\"option\",{value:\"photo\",children:\"Photographie\"}),/*#__PURE__*/_jsx(\"option\",{value:\"stylisme\",children:\"Stylisme\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Andalous\",children:\"Andalous\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Couture\",children:\"Couture\"}),/*#__PURE__*/_jsx(\"option\",{value:\"broderie\",children:\"Broderie\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email :\",required:true,value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"tel\",placeholder:\"T\\xE9l\\xE9phone :\",required:true,value:tel,onChange:e=>setTel(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"S'inscrire\"})]})})]});};export default Regist;// Wrap component with withRouter HOC","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Regist","navigate","nom","setNom","prenom","setPrenom","typeAtelier","setTypeAtelier","email","setEmail","tel","setTel","handleSubmit","event","preventDefault","formData","FormData","append","response","fetch","method","body","ok","Error","data","text","console","log","error","alert","className","children","src","require","default","alt","onSubmit","type","name","placeholder","required","value","onChange","e","target","selected","disabled","hidden"],"sources":["C:/Users/walid/OneDrive/Desktop/react/app1/src/compo/registrations.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";// Import withRouter higher-order component\r\nimport './regist.css';\r\n\r\nconst Regist = () => { // Destructure history from props\r\n    const navigate = useNavigate(); // Use navigate hook to redirect to another page\r\n\r\n    const [nom, setNom] = useState('');\r\n    const [prenom, setPrenom] = useState('');\r\n    const [typeAtelier, setTypeAtelier] = useState(''); // Default value\r\n    const [email, setEmail] = useState('');\r\n    const [tel, setTel] = useState('');\r\n\r\n    // Function to handle form submission\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault(); \r\n\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('nom', nom);\r\n            formData.append('prenom', prenom);\r\n            formData.append('type_atelier', typeAtelier);\r\n            formData.append('email', email);\r\n            formData.append('tel', tel);\r\n\r\n            const response = await fetch('http://localhost/winner1/insert_registration.php', {\r\n                method: 'POST',\r\n                body: formData\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Network response was not ok');\r\n            }\r\n\r\n            const data = await response.text();\r\n            console.log(data); // Log the response from the PHP script\r\n            // Display success message\r\n            navigate(\"/welcome\"); // Redirect to the welcome page\r\n        } catch (error) {\r\n            // Handle errors\r\n            console.error('Error:', error);\r\n            alert('Registration failed'); // Display error message\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"registrationForm\">\r\n            <img src={require('../photos/winnercoloresvg.svg').default} alt=\"Description de l'image\" />\r\n            <div className=\"formulairee\">\r\n                <form onSubmit={handleSubmit}>\r\n                    <input type=\"text\" name=\"nom\" placeholder=\"Nom :\" required value={nom} onChange={(e) => setNom(e.target.value)} />\r\n                    <input type=\"text\" name=\"prenom\" placeholder=\"Prenom :\" required value={prenom} onChange={(e) => setPrenom(e.target.value)} />\r\n                    <select name=\"typeAtelier\" required value={typeAtelier} onChange={(e) => setTypeAtelier(e.target.value)}>\r\n                        <option value=\"\" selected disabled hidden>Type atelier :</option>\r\n                        <option value=\"drawing\">Dessin</option>\r\n                        <option value=\"violin\">Violon</option>\r\n                        <option value=\"guitar\">Guitare</option>\r\n                        <option value=\"theater\">Théâtre</option>\r\n                        <option value=\"crochet\">Crochet</option>\r\n                        <option value=\"piano\">Piano</option>\r\n                        <option value=\"photo\">Photographie</option>\r\n                        <option value=\"stylisme\">Stylisme</option>\r\n                        <option value=\"Andalous\">Andalous</option>\r\n                        <option value=\"Couture\">Couture</option>\r\n                        <option value=\"broderie\">Broderie</option>\r\n                    </select>\r\n                    <input type=\"email\" name=\"email\" placeholder=\"Email :\" required value={email} onChange={(e) => setEmail(e.target.value)} />\r\n                    <input type=\"tel\" name=\"tel\" placeholder=\"Téléphone :\" required value={tel} onChange={(e) => setTel(e.target.value)} />\r\n                    <input type=\"submit\" value=\"S'inscrire\" />\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Regist; // Wrap component with withRouter HOC\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}